<html>
  <head>
    <title>Docker Event Stream</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="assets/stylesheets/main.css">

    <script src="assets/javascripts/jquery.min.js"></script>

    <script type='text/javascript'>
      $(document).ready(function() {
        var source = new EventSource('/events');

        source.addEventListener('message', function(e) {
          var data = $.parseJSON(e.data)

          var line = $('<code>');
          line.append(new Date(data.time * 1000));
          line.append(' ');
          line.append(data.status);
          line.append(' ');
          line.append(data.id.substring(0, 12));
          line.append(' ');
          line.append(data.from);

          $('#event-stream').append(line);
        });
      });
    </script>
  </head>
  <body>
    <h1>Docker Event Stream</h1>
    <main id="event-stream">
    </main>
  </body>
</html>
